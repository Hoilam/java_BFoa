package com.bf.action.emp;

import java.io.File;
import java.util.List;

import javax.annotation.Resource;

import org.apache.struts2.ServletActionContext;

import com.bf.po.dep.Department;
import com.bf.service.dep.DepServiceFinder;
import com.bf.service.emp.EmpService;
import com.bf.service.emp.EmpServiceFinder;

public class EmpAction {
	                  
	@Resource(name = "depServiceFinderImple")
	private DepServiceFinder dfr;
	
	@Resource(name = "empServiceFinderImpl")
	private EmpServiceFinder efr;
	
	@Resource(name = "empServiceImpl")
	private EmpService ef;
	
	//上传的文件
	private File image;
	//上传文件的名称
	private String imageFileName;
	
	private Employee emp = new Employee();
	

	//显示用户信息
	public String execute(){
		//得到员工的分页信息
		//得到父部门的所有信息
		List<Department> deps = dfr.findAll(Department.class, "from Department d where d.parent = null");
		ServletActionContext.getRequest().setAttribute("deps", deps);
		return "index";
		
	}
}
